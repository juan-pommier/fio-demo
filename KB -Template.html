<div style="background: url('https://tintri.com/wp-content/uploads/2022/11/hero_background.svg') no-repeat center center fixed; background-size: cover; padding: 30px;">
  <div style="max-width: 1200px; margin: auto; background: #ffffff; background-color: rgba(255, 255, 255, 0.95); border-radius: 8px; box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1); padding: 15px;">
    <div style="background-color: #f2f2f2; color: #ffffff; padding-top: 10px; padding-right: 10px; padding-bottom: 10px; border-radius: 8px 8px 0px 0px; text-align: center; font-size: 20px; border: 1px solid rgb(74, 74, 74);"><strong><span style="font-family: verdana, geneva, sans-serif; font-size: 20px; color: #000000;">How-To: </span></strong><span style="font-family: verdana, geneva, sans-serif; font-size: 20px; color: #000000;">Obtain a Kubernetes Cluster Certificates</span></div>
    <div style="padding: 20px; border-right: 1px solid rgb(74, 74, 74); border-bottom: 1px solid rgb(74, 74, 74); border-left: 1px solid rgb(74, 74, 74); border-image: initial; border-top: none;">
      <div style="justify-content: start; gap: 10px; margin: 20px 0;">
        <div style="background-color: #ffffff; color: #030303; padding: 5px 10px; font-size: 13px;"><span style="font-family: verdana, geneva, sans-serif; font-size: 13px;">Classification: <strong>Public</strong></span></div>
      </div>
      <div style="display: flex; justify-content: start; gap: 10px; margin: 20px 0;">
        <div style="background-color: #f2f2f2; color: #030303; padding: 5px 10px; border-radius: 15px; font-size: 13px;"><span style="font-family: verdana, geneva, sans-serif; font-size: 13px;">Applies To:</span></div>
        <div style="background-color: #d2d2ca; color: #030303; padding: 5px 10px; border-radius: 15px; font-size: 13px;"><span style="font-family: verdana, geneva, sans-serif; font-size: 13px;"><strong> TxOS: </strong>5.6.0.1+</span></div>
      </div>
      <p style="padding: 10px; text-align: left;"><span style="font-family: verdana, geneva, sans-serif; font-size: 13px;"><span style="font-family: verdana, geneva, sans-serif; font-size: 16px;"><strong>Description:</strong></span><br>This article provides instructions on how to obtain the correct certificate format from a Kubernetes master so that it can be registered in VMStore. <br></span></p>
      <div style="background-color: #55b681; color: #ffffff; padding: 10px; border-radius: 8px 8px 0px 0px; text-align: center; font-size: 20px; margin-top: 20px;"><span style="font-family: verdana, geneva, sans-serif; font-size: 20px;">Steps</span></div>
      <div style="padding: 20px; border: 1px solid #ddd; border-top: none;">

        <p><span style="font-family: verdana, geneva, sans-serif;"><strong><span>Obtaining all certificates using kubectl config :</span><br><br></strong></span></p>
          <ol style="list-style-type: none;">
          <li><span style="color: #4e5f70; font-family: verdana, geneva, sans-serif;"><span style="color: #000000;">1. Run this command to obtain the API endpoint URL, the CA Certificate, Client Certificate and Client Key:</span> </span></li>
        </ol>
                  <p><span style="color: #4e5f70; font-family: verdana, geneva, sans-serif;"><span style="color: #000000;"><img src="https://onetintri.file.force.com/servlet/rtaImage?eid=ka9V500000HISiP&amp;feoid=00N8a00000JTmoK&amp;refid=0EMV500000Ade33" alt=""> </span></span></p>

                  <pre class="language-markup" style="background: #efefef; padding: 8px; display: block; border: 1px solid rgb(204, 204, 204); overflow-x: auto;"><code>kubectl config view --raw</code></pre>
            <p><span style="font-family: verdana, geneva, sans-serif;"><strong><span>Obtaining them individually :</span><br><br></strong></span></p>
        <ol style="list-style-type: none;">
          <li><span style="color: #4e5f70; font-family: verdana, geneva, sans-serif;"><span style="color: #000000;">1. Obtaining the API endpoint URL:</span> </span></li>
        </ol>
        <pre class="language-markup" style="background: #efefef; padding: 8px; display: block; border: 1px solid rgb(204, 204, 204); overflow-x: auto;"><code>sudo grep 'server:' /etc/kubernetes/admin.conf | head -1 | awk '{print $2}'</code></pre>
        <ol style="list-style-type: none;">
          <li><span style="color: #4e5f70; font-family: verdana, geneva, sans-serif;"><span style="color: #000000;">2. Obtain the CA Certificate:</span> </span></li>
        </ol>
        <pre class="language-markup" style="background: #efefef; padding: 8px; display: block; border: 1px solid rgb(204, 204, 204); overflow-x: auto;"><code>sudo base64 -w 0 /etc/kubernetes/pki/ca.crt &amp;&amp; echo</code></pre>
        <ol style="list-style-type: none;">
          <li><span style="color: #4e5f70; font-family: verdana, geneva, sans-serif;"><span style="color: #000000;">3. Obtain the client certificate:</span> </span></li>
        </ol>
        <pre class="language-markup" style="background: #efefef; padding: 8px; display: block; border: 1px solid rgb(204, 204, 204); overflow-x: auto;"><code>sudo base64 -w 0 /etc/kubernetes/pki/apiserver-kubelet-client.crt &amp;&amp; echo</code></pre>
        <ol style="list-style-type: none;">
          <li><span style="color: #4e5f70; font-family: verdana, geneva, sans-serif;"><span style="color: #000000;">4. Obtain the client key:</span> </span></li>
        </ol>
        <pre class="language-markup" style="background: #efefef; padding: 8px; display: block; border: 1px solid rgb(204, 204, 204); overflow-x: auto;"><code>sudo base64 -w 0 /etc/kubernetes/pki/apiserver-kubelet-client.key &amp;&amp; echo</code></pre>
          <p><span style="font-family: verdana, geneva, sans-serif;"><strong><span>Add the certificates to VMstore :</span><br><br></strong></span></p>
          <ol style="list-style-type: none;">
          <li><span style="color: #4e5f70; font-family: verdana, geneva, sans-serif;"><span style="color: #000000;">1. Login to VMstore.</span> </span></li>
        </ol>
          <ol style="list-style-type: none;">
          <li><span style="color: #4e5f70; font-family: verdana, geneva, sans-serif;"><span style="color: #000000;">2. Navigate to Settings > Hypervisor Managers > Kubernetes Cluster</span> </span></li>
        </ol>
          <ol style="list-style-type: none;">
          <li><span style="color: #4e5f70; font-family: verdana, geneva, sans-serif;"><span style="color: #000000;">3. Click on Actions > Add Kubernetes Cluster. </span> </span></li>
        </ol>
          <ol style="list-style-type: none;">
          <li><span style="color: #4e5f70; font-family: verdana, geneva, sans-serif;"><span style="color: #000000;">4.  Fill the required configuration and copy the retrieved information from the Kubernetes cluster </span> </span></li>
        </ol>
        <p><span style="color: #4e5f70; font-family: verdana, geneva, sans-serif;"><span style="color: #000000;"><img src="https://onetintri.file.force.com/servlet/rtaImage?eid=ka9V500000HISiP&amp;feoid=00N8a00000JTmoK&amp;refid=0EMV500000Ade33" alt=""> </span></span></p>
      </div>
      <div style="background-color: #a51d34; color: #fff; padding: 10px; border-radius: 8px 8px 0 0; text-align: center; font-size: 20px; margin-top: 20px;"><span style="font-family: verdana, geneva, sans-serif; font-size: 20px;">Additional Resources</span></div>
      <div style="padding: 20px; border: 1px solid #ddd; border-top: none;">
        <p><span style="font-family: verdana, geneva, sans-serif;">References to supporting documentation or external resources for a comprehensive understanding: </span></p>
        <table style="width: 99.4723%; border-collapse: collapse; margin-top: 10px; height: 85.5938px;">
          <tbody>
            <tr style="height: 37.7969px;">
              <th colspan="1" rowspan="1" style="border: 1px solid rgb(221, 221, 221); padding: 8px; text-align: left; background-color: #f2f2f2; color: #333333; width: 14.8326%;"><span style="font-family: verdana, geneva, sans-serif;">Source</span></th>
              <th colspan="1" rowspan="1" style="border: 1px solid rgb(221, 221, 221); padding: 8px; text-align: left; background-color: #f2f2f2; color: #333333; width: 69.7673%;"><span style="font-family: verdana, geneva, sans-serif;">Title/Info</span></th>
              <th colspan="1" rowspan="1" style="border: 1px solid rgb(221, 221, 221); padding: 8px; background-color: #f2f2f2; color: #333333; width: 15.3829%; text-align: left;"><span style="font-family: verdana, geneva, sans-serif;">Link</span></th>
            </tr>
            <tr style="height: 37.7969px;">
              <td colspan="1" rowspan="1" style="border: 1px solid rgb(221, 221, 221); padding: 8px; text-align: left; width: 14.8326%;"><span style="font-family: verdana, geneva, sans-serif;">Tintri Support Portal</span></td>
              <td colspan="1" rowspan="1" style="border: 1px solid rgb(221, 221, 221); padding: 8px; text-align: left; width: 69.7673%;"><span style="color: #4e5f70;"><span style="font-family: verdana, geneva, sans-serif;">Documents &gt; VMstore System Administration Manual (760-00041-C23)</span></span></td>
              <td colspan="1" rowspan="1" style="border: 1px solid rgb(221, 221, 221); padding: 8px; width: 15.3829%; text-align: left;"><span style="font-family: verdana, geneva, sans-serif;"><a href="https://support.tintri.com/download/" target="_blank" rel="noopener">Click Here</a></span></td>
            </tr>
          </tbody>
        </table>
        <p><br><br></p>
        <p><span style="font-family: verdana, geneva, sans-serif;"><em>Updated: 2025.04.16</em></span></p>
      </div>
    </div>
  </div>
</div>